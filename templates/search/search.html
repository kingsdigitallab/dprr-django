{% extends "base.html" %}
{% load highlight wagtailcore_tags %}

{% block meta_title %}Search Results{% if query %} for {{ query }}{% endif %}{% endblock %}

{% block content %}

<div class="large-9 columns">
    <h1>Search Results <small>(in order of relevance)</small></h1>
    {% block main %}

    <form method="get" action=".">

        <select name="selected_facets">
            {% for office in offices %}
                <option value="office:{{office}}">{{office}}</option>
            {% endfor %}
        </select>

        <select name="selected_facets">
            {% for d in date_array %}
                <option value="date_st:{{d}}">{{d}}</option>
            {% endfor %}
        </select>

        <input type="submit" value="Search">

    </form>

    <p>Total results found: {{page.paginator.count}}</p>

    <ul class="search-results">
        {% for result in page.object_list %}
             <li>{{ result.key |safe }}</li>
        {% endfor %}
    </ul>

    <p>Page {{page.number}} of {{page.paginator.num_pages}}</p>

    {% if page.has_previous or page.has_next %}
        <div>
            {% if page.has_previous %}
                <a href="?q={{ query }}&amp;page={{ page.previous_page_number }}">
            {% endif %}&laquo; Previous {% if page.has_previous %}</a>{% endif %}
            |
            {% if page.has_next %}<a href="?q={{ query }}&amp;page={{ page.next_page_number }}">{% endif %}Next &raquo;
            {% if page.has_next %}</a>{% endif %}
        </div>
    {% endif %}

{% endblock %}
</div>
{% endblock %}
